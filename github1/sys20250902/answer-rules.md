# 入力ルール v1.2（このサイト専用ミニ記法）

共通
- 半角のみ（数字・記号・コロン）。全角は自動で半角に正規化。
- 関数・演算子は TeX 風のバックスラッシュ記法を使用。
- 文字は数字の後ろに書く（例: `n2` → `2n`）。ただし下付きは `n_2` を使う（`n_2` は保持）。
- ルートは `\s{ ... }` を使う（例: `\s{17}`）。`√5` や `sqrt(5)` は自動で `\s{5}` に正規化。
- 指数は 1 文字以外なら必ず `{}` を使う（例: `x^{ab}`）。`x^ab` はエラー。
- 未閉じの `() {}` はエラー。

直線（line）
- 形式は `y=...`（右辺に y を含めない）。y の係数は 1 とみなす規約。
- y 項が 0 のときは `x=...`（左辺が x のみ）。
- 例: `y=2x+1`、`x=3`

比（ratio）
- 半角コロン `a:b`。例: `1:3`
- 推奨：既約に簡約（例: `2:4` → `1:2`）。符号は左項に集約（`-2:4` → `-1:2`）。

ベクトル（vector）
- ベクトルは `\v{a}` の形式（英字 1 文字）。
- 係数は数値または分数 `\f{A}{B}`。和はアルファベット順に整列。係数 1 は省略可、-1 は `-` のみ。
- 例: `\f{1}{3}\v{a}+\v{b}`, `-\v{a}+\f{2}{5}\v{c}`

分数・平方根（generic）
- 分数は `\f{A}{B}`、平方根は `\s{X}`。
- 例: `\f{4+\s{2}}{3}`, `\s{3}/2`（内部的には `\f{\s{3}}{2}` と等価）

不等号
- `\ge` と `\le` を採用（`>=`, `<=`, `≤`, `≥` は自動正規化）。
- 例: `x \ge 0`, `a \le b`

三角関数・対数
- 例: `\cos(x)`, `\sin(2x)`, `\tan(\pi/3)`, `\log_{10}(n)`
- 入力の揺れは自動正規化（例: `cosx` → `\cos(x)`, `log2(n)` → `\log_{2}(n)`）。

組合せ・順列
- 組合せ: `\c{n}{k}`（`nCk`, `nC_k`, `C(n,k)` などは正規化）。
- 順列: `\p{n}{k}`（`nPk`, `P(n,k)` などは正規化）。
- 例: `\c{5}{2}`, `\p{n}{r}`

合同式
- 入力で `a=b(mod m)` や `a=b(\mod m)` を許可し、`a \equiv b \pmod{m}` に正規化。
- 推奨記法は `a \equiv b \pmod{m}`。
- 例: `7=1(mod 3)` → `7 \equiv 1 \pmod{3}`

円周率・度
- `\pi` を使用（`π` は自動正規化）。
- 度は `^{\circ}`（`30°` → `30^{\circ}`）。
- 例: `\cos(30^{\circ})=\f{\sqrt{3}}{2}` → `\cos(30^{\circ})=\f{\s{3}}{2}`

集合
- 必ず `\{ a,b \}` のように、バックスラッシュ付きの中括弧を使う。
- 裸の `{ a,b }` は不可（エラー）。
- 例: `\{1,2\}`, `\{x \mid x \ge 0\}`

禁止・注意
- 床関数（⌊ ⌋）・天井関数（⌈ ⌉）は使用しない。
- `\s{17}n` のように `\s{...}` の直後に文字・数字・括弧を続けない（`*` を明示する等）。例: `\s{17}*n`
- `f{}` や `frac{}` など、バックスラッシュの無い関数記法は不可（`\f{}` を使用）。
