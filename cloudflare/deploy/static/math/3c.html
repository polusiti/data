<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>数学 III・C 模擬問題</title>
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);color:#333}
    header{position:sticky;top:0;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);padding:12px 16px;box-shadow:0 2px 12px rgba(0,0,0,.08)}
    .container{max-width:900px;margin:24px auto;padding:0 16px}
    h1{color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.25);margin:24px 0}
    .q{background:#fff;border-radius:16px;padding:16px;margin:16px 0;box-shadow:0 10px 30px rgba(0,0,0,.12)}
    .opts label{display:block;background:#f6f7fb;border-radius:12px;padding:10px 12px;margin:8px 0;cursor:pointer}
    .btn{display:inline-block;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:10px 18px;border-radius:999px;text-decoration:none;font-weight:600;border:0;cursor:pointer}
    .actions{display:flex;gap:12px;margin:18px 0}
    .exp{display:none;background:#fafafa;border-left:4px solid #667eea;padding:12px;border-radius:8px;margin-top:8px;color:#444}
    .exp.show{display:block}
    .result{background:#fff;border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.12);margin:16px 0}
    nav a{color:#667eea;text-decoration:none}
  </style>
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$','$'],['\\(','\\)']], packages: {'[+]': ['mhchem']} },
      loader: { load: ['[tex]/mhchem'] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>
<body>
  <header>
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;">
      <a href="../index.html" style="color:#667eea;font-weight:700;text-decoration:none;">📚 TestApp</a>
      <nav><a href="../index.html">ホーム</a> / <a href="../math.html">数学</a> / <strong>III・C</strong></nav>
    </div>
  </header>
  <main class="container">
    <h1>📐 数学 III・C 模擬問題</h1>
    <div id="quiz"></div>
    <div class="actions">
      <button class="btn" onclick="grade()">採点</button>
      <button class="btn" onclick="toggleAllExplain()">解答解説を全て表示/非表示</button>
    </div>
    <div id="summary" class="result" style="display:none;"></div>
  </main>
  <script>
    const questions = [
      {
        id:1,
        text:'$\\displaystyle \\int_{0}^{\\pi} \\sin x\\,dx$ を求めよ。',
        options:['$1$','$2$','$0$','$-2$'],
        answer:1,
        explain:[
          '$\\int \\sin x\\,dx=-\\cos x$、$[0,\\pi]$ で $(-\\cos \\pi)-(-\\cos 0)=1-(-1)=2$。'
        ].join('<br/>')
      },
      {
        id:2,
        text:'微分方程式 $\\dfrac{dy}{dx}=y$, 初期条件 $y(0)=1$ の解を選べ。',
        options:['$y=x$','$y=e^x$','$y=\\ln x$','$y=2^x$'],
        answer:1,
        explain:[
          '$\\dfrac{dy}{dx}=y \\Rightarrow \\dfrac{dy}{y}=dx \\Rightarrow \\ln|y|=x+C \\Rightarrow y=C e^{x}$。初期条件 $y(0)=1$ より $C=1$、従って $y=e^{x}$。'
        ].join('<br/>')
      },
      {
        id:3,
        text:'行列 $A=\\begin{pmatrix}1&2\\\\3&4\\end{pmatrix}$ の行列式 $\\det A$ を求めよ。',
        options:['$-2$','$2$','$-5$','$5$'],
        answer:0,
        explain:[
          '$\\det A=1\\cdot4-2\\cdot3=4-6=-2$。'
        ].join('<br/>')
      }
      {
        id:4,
        text:'極限 $\\displaystyle \\lim_{x \\to 0} \\frac{\\sin x}{x}$ の値は？',
        options:['$0$','$1$','$\\infty$','存在しない'],
        answer:1,
        explain:[
          'これは重要な極限の一つで、$\\displaystyle \\lim_{x \\to 0} \\frac{\\sin x}{x} = 1$'
        ].join('<br/>')
      },
      {
        id:5,
        text:'複素数 $z = 1 + i$ の絶対値 $|z|$ は？',
        options:['$1$','$\\sqrt{2}$','$2$','$\\sqrt{3}$'],
        answer:1,
        explain:[
          '$|z| = |1 + i| = \\sqrt{1^2 + 1^2} = \\sqrt{2}$'
        ].join('<br/>')
      },
      {
        id:6,
        text:'関数 $f(x) = x^3 - 3x^2 + 2$ の変曲点の $x$ 座標は？',
        options:['$x = 0$','$x = 1$','$x = 2$','$x = 3$'],
        answer:1,
        explain:[
          '$f\'(x) = 3x^2 - 6x$, $f\'\'(x) = 6x - 6$',
          '変曲点では $f\'\'(x) = 0$ より $6x - 6 = 0$, $x = 1$'
        ].join('<br/>')
      },
      {
        id:7,
        text:'級数 $\\displaystyle \\sum_{n=1}^{\\infty} \\frac{1}{n^2}$ の収束値は？',
        options:['$1$','$\\dfrac{\\pi^2}{6}$','$\\pi$','$e$'],
        answer:1,
        explain:[
          'これはバーゼル問題として知られ、$\\displaystyle \\sum_{n=1}^{\\infty} \\frac{1}{n^2} = \\frac{\\pi^2}{6}$'
        ].join('<br/>')
      }
    ];
    function render(){const root=document.getElementById('quiz');root.innerHTML='';questions.forEach((q,idx)=>{const div=document.createElement('div');div.className='q';div.innerHTML=`<div style="color:#666;font-size:13px">問題 ${idx+1}</div><div style="margin:8px 0 12px;">${q.text}</div><div class="opts">${q.options.map((opt,i)=>`<label><input type="radio" name="q${q.id}" value="${i}" style="margin-right:8px;" />${opt}</label>`).join('')}</div><div id="exp-${q.id}" class="exp"><strong>解答・解説</strong><br/>${q.explain}</div><div style="font-size:13px;"><a href="javascript:void(0)" onclick="toggleExplain(${q.id})">解説を表示/非表示</a></div>`;root.appendChild(div);});if(window.MathJax) MathJax.typesetPromise();}
    function grade(){let c=0;questions.forEach(q=>{const sel=document.querySelector(`input[name="q${q.id}"]:checked`);const v=sel?Number(sel.value):-1;if(v===q.answer)c++;document.getElementById(`exp-${q.id}`).classList.add('show');});const s=document.getElementById('summary');s.style.display='block';s.innerHTML=`<div><strong>結果:</strong> ${c}/${questions.length}</div>`;if(window.MathJax) MathJax.typesetPromise();}
    function toggleExplain(id){document.getElementById(`exp-${id}`).classList.toggle('show'); if(window.MathJax) MathJax.typesetPromise();}
    function toggleAllExplain(){document.querySelectorAll('.exp').forEach(el=>el.classList.toggle('show')); if(window.MathJax) MathJax.typesetPromise();}
    render();
  </script>
</body>
</html>
